<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>dmtools ebsrate &mdash; DMtools 0.1 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="DMtools main modules" href="dmtools-calme.html" />
    <link rel="prev" title="dmtools view" href="view.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            DMtools
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">methylation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Getting started with dmtools</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../dmtools.html">dmtools: command line tools</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="bam2dm.html">Calculate DNA meth from bam</a></li>
<li class="toctree-l2"><a class="reference internal" href="dmtools-format.html">Format convertion</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Estimate bs conversion rate</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#description">Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="#usage">Usage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#chh-mode">CHH mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="#chrm-mode">chrM mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="#lambda-dna-mode">lambda DNA mode</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#parameters">Parameters</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="dmtools-calme.html">Calculate DNA meth with dm</a></li>
<li class="toctree-l2"><a class="reference internal" href="dmtools-merge.html">Merge or overlap dm files</a></li>
<li class="toctree-l2"><a class="reference internal" href="dmtools-manu.html">Manipulate dm format</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../dmplot.html">dmplot: plotting from the command line</a></li>
<li class="toctree-l1"><a class="reference internal" href="DiffMeth.html">dmdiff: differential dna methylation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Requirements.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydmtools.html">Python API: pydmtools</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">DMtools</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../dmtools.html">Getting started</a></li>
      <li class="breadcrumb-item active">dmtools ebsrate</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/function/ebsrate.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="dmtools-ebsrate">
<h1>dmtools ebsrate<a class="headerlink" href="#dmtools-ebsrate" title="Permalink to this heading"></a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#description" id="id1">Description</a></p></li>
<li><p><a class="reference internal" href="#usage" id="id2">Usage</a></p>
<ul>
<li><p><a class="reference internal" href="#chh-mode" id="id3">CHH mode</a></p></li>
<li><p><a class="reference internal" href="#chrm-mode" id="id4">chrM mode</a></p></li>
<li><p><a class="reference internal" href="#lambda-dna-mode" id="id5">lambda DNA mode</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#parameters" id="id6">Parameters</a></p></li>
</ul>
</nav>
<section id="description">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Permalink to this heading"></a></h2>
<p>For bisulfite sequencing data, the level of DNA methylation is estimated by converting unmethylated cytosine (C) to thymine (T) and then calculating the percentage of T at sites where the reference genome is C. The accuracy of this estimation depends on the bisulfite conversion rate, which directly affects the percentage of C to T. To evaluate the conversion rate of bisulfite, lambda sequences are typically added during library construction. The Lambda sequence is a completely unmethylated sequence, so after bisulfite treatment, all C sites should be converted to T with 100% efficiency.</p>
<p>However, some WGBS data do not include lambda sequences for estimating the conversion rate of bisulfite. In such cases, we can use several alternative methods to evaluate the conversion rate: (1) calculating the mitochondrial methylation level (applicable to some mammals); (2) calculating the DNA methylation level of CHH (applicable to some animals); (3) calculating the methylation level of a specific chromosome specified by the user; and (4) calculating the methylation level of chloroplasts (applicable to some plants). It is important to note that some studies have reported DNA methylation in mitochondria, so using mitochondrial DNA methylation level to estimate the conversion rate of bisulfite requires careful consideration.</p>
<p>You can estimate the bisulfite conversion rate with dmtools:</p>
</section>
<section id="usage">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Usage</a><a class="headerlink" href="#usage" title="Permalink to this heading"></a></h2>
<section id="chh-mode">
<h3><a class="toc-backref" href="#id3" role="doc-backlink">CHH mode</a><a class="headerlink" href="#chh-mode" title="Permalink to this heading"></a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ dmtools ebsrate -i mutant.methratio.dm --bsmode chh
  <span class="c1">#dm bs-c-rate</span>
  <span class="c1">###bs rate calculated by chh</span>
  <span class="c1">#ebsrate chh mode</span>
  <span class="c1">#CHH      chrM    0.004437</span>
  <span class="c1">#CHH      chr1    0.004765</span>
  <span class="c1">#CHH      chr2    0.004755</span>
  <span class="c1">#...</span>
  <span class="c1">#...</span>
  <span class="c1">#CHH      chrX    0.004585</span>
  <span class="c1">###CHH level in all chromosome</span>
  <span class="c1">#CHH      +       0.004752</span>
  <span class="c1">#CHH      -       0.004714</span>
  <span class="c1">#CHH      .       0.004733</span>
  <span class="c1">###estimated bs rate by CHH level in all chromosome</span>
  <span class="c1">#bsrate   0.004733</span>
</pre></div>
</div>
</section>
<section id="chrm-mode">
<h3><a class="toc-backref" href="#id4" role="doc-backlink">chrM mode</a><a class="headerlink" href="#chrm-mode" title="Permalink to this heading"></a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ dmtools ebsrate -i GSM1329865.zm0.dm --bsmode chrM
  <span class="c1">#dm bs-c-rate</span>
  <span class="c1">###bs rate calculated by chrM</span>
  <span class="c1">#ebsrate chr mode</span>
  <span class="c1">#Chromosome List chrM 16569</span>
  <span class="c1">#chrM     0       16569   0.005053        C       +</span>
  <span class="c1">#chrM     0       16569   0.005588        CG      +</span>
  <span class="c1">#chrM     0       16569   0.005007        CHG     +</span>
  <span class="c1">#chrM     0       16569   0.005001        CHH     +</span>
  <span class="c1">#chrM     0       16569   0.004336        C       -</span>
  <span class="c1">#chrM     0       16569   0.006145        CG      -</span>
  <span class="c1">#chrM     0       16569   0.003907        CHG     -</span>
  <span class="c1">#chrM     0       16569   0.003873        CHH     -</span>
  <span class="c1">###estimated bs rate by chrM level</span>
  <span class="c1">#bsrate   0.004694</span>
</pre></div>
</div>
</section>
<section id="lambda-dna-mode">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">lambda DNA mode</a><a class="headerlink" href="#lambda-dna-mode" title="Permalink to this heading"></a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ dmtools ebsrate -i GSM1329865.zm0.dm --bsmode lambda
  <span class="c1">###estimated bs rate by lambda level</span>
  <span class="c1">#bsrate   0.01092</span>
</pre></div>
</div>
</section>
</section>
<section id="parameters">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Parameters</a><a class="headerlink" href="#parameters" title="Permalink to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">-i</span></code> input DM file</p>
<p><code class="docutils literal notranslate"><span class="pre">-o</span></code> output file</p>
<p><code class="docutils literal notranslate"><span class="pre">--bsmode</span></code> chh or chr mode, suggest chh for human, mouse etc.</p>
<p><code class="docutils literal notranslate"><span class="pre">--chr</span></code> chromosome used for calculate bisulfite convertion rate, default, chrM and chrC</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>For feature requests or bug reports please open an issue <a class="reference external" href="http://github.com/ZhouQiangwei/dmtools">on github</a>.</p>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="view.html" class="btn btn-neutral float-left" title="dmtools view" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="dmtools-calme.html" class="btn btn-neutral float-right" title="DMtools main modules" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, momocoding.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>