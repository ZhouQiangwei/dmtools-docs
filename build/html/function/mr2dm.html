<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>dmtools mr2dm &mdash; DMtools 0.1 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            DMtools
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">methylation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Getting started with dmtools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dmtools.html">dmtools: command line tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dmplot.html">dmplot: plotting from the command line</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dmdiff.html">dmdiff: differential dna methylation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../requirements.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pydmtools.html">Python API: pydmtools</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">DMtools</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">dmtools mr2dm</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/function/mr2dm.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="dmtools-mr2dm">
<h1>dmtools mr2dm<a class="headerlink" href="#dmtools-mr2dm" title="Permalink to this heading"></a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#description" id="id1">Description</a></p></li>
<li><p><a class="reference internal" href="#usage" id="id2">Usage</a></p></li>
<li><p><a class="reference internal" href="#parameters" id="id3">Parameters</a></p></li>
<li><p><a class="reference internal" href="#output-files" id="id4">Output files</a></p></li>
<li><p><a class="reference internal" href="#output-file-format" id="id5">Output file format</a></p></li>
</ul>
</nav>
<section id="description">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Permalink to this heading"></a></h2>
<p>Convert methratio txt file to dm binary file</p>
<p>Not all software that calculates DNA methylation levels output files in the same format. Currently common formats include BatMeth2, Bsmap, BS-Seeker2, Bismark2, etc.
Before performing downstream calculations, analysis, and visualization with DMtools,
some formatting conversion work needs to be done. Different software formats need to be converted
to the DM format, and the currently supported format conversions include methratio,
bedmethyl, bismark, bedsimple, etc.
For more details, please refer to the <a class="reference internal" href="#parameters">Parameters</a> instructions.</p>
<p>The <cite>mr2dm</cite> command is used to format DNA methylation result files.</p>
</section>
<section id="usage">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Usage</a><a class="headerlink" href="#usage" title="Permalink to this heading"></a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ dmtools mr2dm -g genome.fa.size -m mutant.methratio.txt --outdm mutant.methratio.dm
</pre></div>
</div>
</section>
<section id="parameters">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Parameters</a><a class="headerlink" href="#parameters" title="Permalink to this heading"></a></h2>
<p><em>mode paramaters, required</em></p>
<p><code class="docutils literal notranslate"><span class="pre">-g</span></code> chromosome size file, can be generated by <code class="docutils literal notranslate"><span class="pre">samtools</span> <span class="pre">faidx</span> <span class="pre">genome.fa</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">-m</span></code> methratio file</p>
<p><code class="docutils literal notranslate"><span class="pre">-o|--outdm</span></code> output DM file</p>
<p><em>mode paramaters, options</em></p>
<p><code class="docutils literal notranslate"><span class="pre">-C</span></code> print coverage</p>
<p><code class="docutils literal notranslate"><span class="pre">-S</span></code> print strand</p>
<p><code class="docutils literal notranslate"><span class="pre">--Cx</span></code> print context</p>
<p><code class="docutils literal notranslate"><span class="pre">-E</span></code> print end</p>
<p><code class="docutils literal notranslate"><span class="pre">--Id</span></code> print ID</p>
<p><code class="docutils literal notranslate"><span class="pre">--CF</span></code> coverage filter, &gt;=[int], default 4.</p>
<p><code class="docutils literal notranslate"><span class="pre">--sort</span></code> Y/N make chromsize file and meth file in same coordinate, default Y</p>
<p><code class="docutils literal notranslate"><span class="pre">--zl</span></code> The maximum number of zoom levels. [0-10]</p>
<p><code class="docutils literal notranslate"><span class="pre">-f</span></code> file format. methratio, bedmethyl, bismark or bedsimple [default methratio]</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">methratio</span></code> chrom start strand context meth_reads cover</p>
<p><code class="docutils literal notranslate"><span class="pre">bedmethyl</span></code> chrom start end name * strand * * * coverage meth_reads</p>
<p><code class="docutils literal notranslate"><span class="pre">bismark</span></code> chrom start strand coverC coverT context</p>
<p><code class="docutils literal notranslate"><span class="pre">bedsimple</span></code> chrom start end id strand context meth_reads coverage</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">--pcontext</span></code> CG/CHG/CHH/C, needed when bedmethyl format, default C</p>
<p><code class="docutils literal notranslate"><span class="pre">--fcontext</span></code> CG/CHG/CHH/ALL, only convert provide context in methratio file or bedsimple, default ALL</p>
<p><code class="docutils literal notranslate"><span class="pre">--sv</span></code> add strand information to make meth level as positive and negative value. eg 0.5, -0.5</p>
<p><code class="docutils literal notranslate"><span class="pre">Note.</span></code> meth ratio file must be sorted by chrom and coordinate. ex. sort -k1,1 -k2,2n</p>
<p><code class="docutils literal notranslate"><span class="pre">-h|--help</span></code></p>
</section>
<section id="output-files">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Output files</a><a class="headerlink" href="#output-files" title="Permalink to this heading"></a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="m">1</span>. prefix.methratio.dm <span class="o">(</span>binary file with index, view and processed with dmtools<span class="o">)</span>
</pre></div>
</div>
</section>
<section id="output-file-format">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Output file format</a><a class="headerlink" href="#output-file-format" title="Permalink to this heading"></a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="m">1</span>. methratio.dm <span class="o">(</span>binary file, view and processed with dmtools<span class="o">)</span>
    Chromosome Loci <span class="o">(</span>end<span class="o">)</span> methlevel CT_count Strand Context
    <span class="c1"># ex. dmtools view -i test.mr.dm -r Chr1:61-61</span>
    <span class="c1"># ex. Chr1    61      0.286364  11  +       CHH</span>
    <span class="c1"># CT_count     The number of coverage in this base pair.</span>
    <span class="c1"># BigWig for genome browser, suggest with end col.</span>
</pre></div>
</div>
<p>obtained dm format methylation results, you can see more details with 'dmtools mr2dm -h'</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>For feature requests or bug reports please open an issue <a class="reference external" href="http://github.com/ZhouQiangwei/dmtools">on github</a>.</p>
</div>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, momocoding.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>